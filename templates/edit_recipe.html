{% extends 'base.html' %} {% block content %}
<main class="container">
<div class="row">
    <div class="col-xs-12">
        <h1>Edit Recipe</h1>
    </div>

    <form action="{{url_for('update_recipe', recipe_id=recipe._id)}}" method="POST" class="col-xs-12">
        
<!--Recipe name-->
        <fieldset>
            <legend>Recipe Name</legend>
            <input type="text" name="name" id="name" value="{{ recipe.name }}" class="" />
        </fieldset>
        
<!--Cuisine-->        

        <fieldset id="cuisine_fieldset">
            <legend>Cuisine</legend>
            <div class="cuisine_container">
                
                {% if recipe.cuisine == [] %}
                    <select name="cuisine" class="cuisine" id="cuisine">
                    <option value="" selected>Choose a Cuisine</option>
                    
                    {% for item in cuisines_json.cuisine %}
                    <option >{{item}}</option>
                    {% endfor %}
                    </select>
                {% endif%}
                
                {% if recipe.cuisine != [] %}
                {% for cuisines in recipe.cuisine %}
                <select name="cuisine" class="cuisine" id="cuisine">
                    
                    <option selected>{{cuisines}}</option>
                    
                    {% for item in cuisines_json.cuisine %}
                    <option>{{ item }}</option>
                    {% endfor %}
                    
                </select>
                <i class="material-icons remove_select pointer">remove</i><br>
                {% endfor %}
                {% endif%}
                <i id="add_cuisine" class="material-icons duplicate_select pointer">add</i>
                    
                
            </div>
        </fieldset>
        
<!--Allergen-->        

        <fieldset id="allergen_fieldset">
            <legend>Allergens</legend>
            <div class="allergens_container">
                
                {% for allergen in recipe.allergens %}
                <div class='allergen_checkbox'>
                    <input checked id="allergen" class="{{ allergen }}" name="allergens" type="checkbox" value="{{ allergen }}">
                    <label class="{{ allergen }}1" for="allergen">{{ allergen }}</label>
                </div>
                
                {% endfor %}
                    {% for item in allergens_json.allergen %}
                <div class='allergen_checkbox'>
                    <input class="{{ item }}" id="allergen" name="allergens" type="checkbox" value="{{ item }}">
                    <label class="{{ item }}1" for="allergen">{{ item }}</label>
                </div>
                {% endfor%}
                
            </div>
         </fieldset>

<!--Recipe Description-->

        <fieldset>
            <legend>Recipe Description</legend>
            <textarea type="text" name="description" id="description" class="">{{ recipe.description }}</textarea>
        </fieldset>
        
<!--Ingredients-->

        <fieldset id="duplicate_ingredient">
            <legend>Ingredients</legend>
            {% for ingredient in recipe.ingredients %}
                <br><input type="text" name="ingredients" class="ingredients inline" id="ingredients" value="{{ ingredient }}" />
            
                {% if loop.index == 1%}
                <i id="first" class="material-icons duplicate pointer">add</i>
                {% endif %}
                {% if loop.index > 1%}
                <i class="material-icons duplicate pointer">add</i>
                <i class="material-icons remove_duplicate pointer">remove</i>
                {% endif %}
            
            {% endfor %}
        </fieldset>
        
<!--Instructions-->

        <fieldset id="instructions_fieldset">
            <legend>Instructions</legend>
            {% for instruction in recipe.instructions %}
                <br><input type="text" name="instructions" class="instructions inline" id="instructions" value="{{ instruction }}" />
                {% if loop.index == 1%}
                
                <i id="first" class="material-icons duplicate pointer">add</i>
                {% endif %}
                {% if loop.index > 1%}
                <i class="material-icons duplicate pointer">add</i>
                <i class="material-icons remove_duplicate pointer">remove</i>
                {% endif %}
            {% endfor %}
        </fieldset>
        
<!--Prep time-->

        <fieldset>
            <legend>Prep Time</legend>
            <input type="text" name="prep_time" id="prep_time" value="{{ recipe.prep_time }}" />
        </fieldset>
        
<!--Cook time-->

        <fieldset>
            <legend>Cook Time</legend>
            <input type="text" name="cook_time" id="cook_time" value="{{ recipe.cook_time }}" />
        </fieldset>
        
<!--Serving-->

        <fieldset>
            <legend>Recipe Yield</legend>
            <input type="number" name="recipe_yield" id="recipe_yield" value="{{ recipe.recipe_yield }}"/>
        </fieldset>
        
<!--Author-->

        <fieldset>
            <legend>Author</legend>
            <input type="text" name="author" id="author" value="{{ recipe.author }}" />
        </fieldset>
        
<!--Image-->

        <fieldset>
            <legend>Image</legend>
            <input type="text" name="image" id="image" value="{{ recipe.image }}" />
        </fieldset>
        
<!--Submit-->

        <input type="submit" value="Submit" />
        
        
    </form>
</div>
</main>

{% endblock %}
